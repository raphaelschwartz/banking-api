ALTER TABLE IF EXISTS activity DROP CONSTRAINT FKbum44k3twcu7owg4dukclggjt;

DROP TABLE activity IF EXISTS;
DROP TABLE account IF EXISTS;

CREATE TABLE account (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY,
  number VARCHAR(10) NOT NULL,
  status VARCHAR(20) NOT NULL,
  owner_id BIGINT NOT NULL,
  balance DECIMAL(19,2) NOT NULL,
  update_date TIMESTAMP NOT NULL,
  active BOOLEAN NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE activity (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY,
  type VARCHAR(20) NOT NULL,
  detail VARCHAR(50) NOT NULL,
  create_date DATETIME NOT NULL,
  amount DECIMAL(19,2) NOT NULL,
  account_id BIGINT NOT NULL,
  balance_after DECIMAL(19,2) NOT NULL,
  transaction_key VARCHAR(36) NOT NULL,
  PRIMARY KEY (id)
);

ALTER TABLE activity
ADD CONSTRAINT FKbum44k3twcu7owg4dukclggjt
FOREIGN KEY (account_id)
REFERENCES account;
